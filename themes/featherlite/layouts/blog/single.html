{{ define "main" }}
<div class="px-6 mx-auto mb-16 prose sm:max-md:prose-sm lg:prose-lg justify-self-center sm:px-4 md:px-0 dark:prose-invert prose-a:no-underline">
    {{/* h-entry */}}
    <article class="h-entry">
        {{/* h-entry */}}
        <h1 class="p-name">{{ .Title }}</h1>
        <div>
        <span class="font-light">
          {{ partial "icon" (dict "name" "clock") }}
          {{ .ReadingTime }} minute read
        </span>
        </div>
        {{ with .Params.cover }}
        {{ $caption := .caption | default $.Page.Title }}
        {{ partial "image.html" (dict "Page" $.Page "Destination" .src "Title" $caption) }}
        {{ end }}
        {{- if .Params.series -}}
        {{- with index (.GetTerms "series") 0 -}}
        <aside class="border-l-2 border-l-accent-400 pl-3 text-sm">
            <p>This post is part of the <a href="{{ .Permalink }}">{{ .LinkTitle }}</a> series.</p>
        </aside>
        {{- end -}}
        {{- end -}}
        {{/* h-entry */}}
        <div class="e-content">
            {{ .Content }}
        </div>
        <hr/>
        {{ with .Params.syndication }}
        {{- partial "syndication.html" . -}}
        {{ end }}
        {{ partial "post-meta.html" . }}
        {{ with .Params.author }}
        <div class="pb-2">
          <span class="font-bold">
            {{ partial "icon" (dict "name" "user") }}
            Posted By:
          </span>
            <a rel="author" class="p-author h-card" href="{{ "about" | relURL }}"
            >{{- . -}}
            {{ with $.Site.Params.Hcard.Avatar }}
            {{ $image := resources.Get . | fingerprint }}
            <img
                    class="u-photo hidden"
                    src="{{ ($image.Fit " 200x200 webp").RelPermalink }}"
            width="200"
            height="200"
            alt="{{ $.Site.Params.Hcard.name }}" />
            {{ end }}
            </a>
        </div>
        {{ end }}
        {{ with .Params.categories }}
        <div class="pb-2">
          <span class="font-bold">
            {{ partial "icon" (dict "name" "folder") }}
            Categories:
          </span>
            {{ range $idx, $category := . }}
            {{- if ne $idx 0 }}{{ end }}
            {{/* h-entry */}}
            <a href="{{ " categories/" | relURL }}{{ $category | urlize }}" class="p-category">{{ $category }}</a>
            {{- end }}
        </div>
        {{ end }}
        <hr/>
    </article>
    {{ partial "pagination/prev-next.html" . }}
    {{ partial "comments.html" . }}
</div>
{{ end }}
